<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.ohpizza.mapper.CouponMapper">

	<select id="selectCoupon" parameterType="string"
		resultType="string">
		select discount
		from tbl_coupon
		where coupon_name = #{couponNm}
	</select>

	<select id="memberCouponList" parameterType="string"
		resultType="string">
		select coupon_name
		from tbl_mem_coupon
		where mem_id = #{id}
	</select>

	<insert id="insertCoupon" parameterType="co.ohpizza.vo.CouponVO">
		insert into tbl_coupon (coupon_name, discount)
		values (#{couponName}, #{discount})
	</insert>

	<insert id="insertMemCoupon"
		parameterType="co.ohpizza.vo.MemCouponVO">
		insert into tbl_mem_coupon (MEM_ID, COUPON_NAME)
		values (#{memId}, #{couponName})
	</insert>

	<select id="duplicateCoupon" parameterType="string"
		resultType="int">
		SELECT count(1)
		FROM tbl_mem_coupon
		WHERE mem_id = #{mem_id} and coupon_name = #{coupon_name}
	</select>
<!-- 값은 # -->




</mapper>